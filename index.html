<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calendar</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
          integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap" rel="stylesheet">

    <!--Font Awesome-->
    <link href="css/fontawesome-free-5.15.1-web/css/all.css" rel="stylesheet">

    <!-- Droppable only -->
    <script src="https://cdn.jsdelivr.net/npm/@shopify/draggable@1.0.0-beta.11/lib/droppable.js"></script>


</head>
<body>
<div class="container col-sm-10 grupa-container">
    <div class="card">
        <div class="form-inline">
            <div class="col-sm-12 grupa-buttons align-middle">
                <h3 class="col-sm-3 grupa-header" id="monthAndYear"></h3>
                <button class="btn btn-outline-primary col-sm-2 align-middle" id="previous" onclick="previous()"><i class="fas fa-arrow-left"></i>Previous</button>
                <button class="btn btn-outline-primary col-sm-2 align-middle" id="next" onclick="next()">Next<i class="fas fa-arrow-right"></i></button>
                <form class="col-sm-4 grupa-select" align="right">
                    <select class="form-control col-sm-4 select-css" name="month" id="month" onchange="jump()">
                        <option value=0>Jan</option>
                        <option value=1>Feb</option>
                        <option value=2>Mar</option>
                        <option value=3>Apr</option>
                        <option value=4>May</option>
                        <option value=5>Jun</option>
                        <option value=6>Jul</option>
                        <option value=7>Aug</option>
                        <option value=8>Sep</option>
                        <option value=9>Oct</option>
                        <option value=10>Nov</option>
                        <option value=11>Dec</option>
                    </select>

                    <label for="year"></label>
                    <select class="form-control col-sm-4 select-css" name="year" id="year" onchange="jump()">
                    <option value=1990>1990</option>
                    <option value=1991>1991</option>
                    <option value=1992>1992</option>
                    <option value=1993>1993</option>
                    <option value=1994>1994</option>
                    <option value=1995>1995</option>
                    <option value=1996>1996</option>
                    <option value=1997>1997</option>
                    <option value=1998>1998</option>
                    <option value=1999>1999</option>
                    <option value=2000>2000</option>
                    <option value=2001>2001</option>
                    <option value=2002>2002</option>
                    <option value=2003>2003</option>
                    <option value=2004>2004</option>
                    <option value=2005>2005</option>
                    <option value=2006>2006</option>
                    <option value=2007>2007</option>
                    <option value=2008>2008</option>
                    <option value=2009>2009</option>
                    <option value=2010>2010</option>
                    <option value=2011>2011</option>
                    <option value=2012>2012</option>
                    <option value=2013>2013</option>
                    <option value=2014>2014</option>
                    <option value=2015>2015</option>
                    <option value=2016>2016</option>
                    <option value=2017>2017</option>
                    <option value=2018>2018</option>
                    <option value=2019>2019</option>
                    <option value=2020>2020</option>
                    <option value=2021>2021</option>
                    <option value=2022>2022</option>
                    <option value=2023>2023</option>
                    <option value=2024>2024</option>
                    <option value=2025>2025</option>
                    <option value=2026>2026</option>
                    <option value=2027>2027</option>
                    <option value=2028>2028</option>
                    <option value=2029>2029</option>
                    <option value=2030>2030</option>
                    </select>
                </form>
            </div>
        </div>
        <table class="table table-bordered table-responsive-sm grupa-days" id="calendar">
            <thead>
            <tr>
                <th>Sun</th>
                <th>Mon</th>
                <th>Tue</th>
                <th>Wed</th>
                <th>Thu</th>
                <th>Fri</th>
                <th>Sat</th>
            </tr>
            </thead>

            <tbody id="calendar-body">

            </tbody>
        </table>

        <br/>
        </div>
    </div>
    <!--Modal Popups-->

    <!--Create Event-->
    <div id="addEvent" class="popup-overlay col-sm-12" align="center">
        <div class="col-sm-3 grupa-popup">
            <i class="fa fa-times popup-close"></i>
            <h3>Add Event</h3>
            <form action="" class="grupa-form" id="grupa-form">
              <input type="text" id="name" name="name" class="form-control" placeholder="Event Name" required><br>
              <input type="time" id="time" name="time" min="09:00" max="18:00" required class="btn btn-outline-primary">
              <input type="hidden" name="selday" id="selDay" value="">
              <input type="hidden" name="selmonth" id="selMonth" value="">
              <input type="hidden" name="selyear" id="selYear" value="">
              <input type="hidden" name="evID" id="evID" value="">
              <input type="submit" value="Create Event" class="btn btn-outline-primary">
            </form> 
        </div>
    </div>

    <!--Edit Event-->
    <div id="editEvent" class="popup-overlay col-sm-12" align="center">
        <div class="col-sm-3 grupa-popup">
            <i class="fa fa-times popup-close"></i>
            <h3>Edit Event</h3>
            <form action="" class="grupa-form" id="grupa-form-edit">
              <input type="text" id="name" name="name" class="form-control" placeholder="Event Name" required><br>
              <input type="time" id="time" name="time" min="09:00" max="18:00" required class="btn btn-outline-primary">
              <input type="hidden" name="selday" id="selDay-1" value="">
              <input type="hidden" name="selmonth" id="selMonth-1" value="">
              <input type="hidden" name="selyear" id="selYear-1" value="">
              <input type="hidden" name="evID" id="evID-1" value="">
              <input type="submit" value="Edit Event" class="btn btn-outline-primary">
            </form> 
            <form action="" class="grupa-form" id="grupa-form-delete">
                <input type="hidden" name="evID" id="evID-2" value="">
              <input type="submit" value="Delete Event" class="btn btn-outline-secondary" align="center">
            </form> 
           
        </div>
    </div>

    <a class="dark-mode-button">Dark Mode</a>

   
</div>

<div class="col-sm-6 mlc-footer" align="right">
    <a href="https://maxlouiscreative.com">Developed by MLC <img src="https://mlccdn.sirv.com/Email/Logo.png"></a>
</div>
<!--<button name="jump" onclick="jump()">Go</button>-->
<script src="scripts.js"></script>


<!-- Optional JavaScript for bootstrap -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
        integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
        integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
        crossorigin="anonymous"></script>
<script src="js/modal.js"></script>
<script src="js/darkmode.js"></script>
<script src="js/savedata.js"></script>
 <script type="text/javascript">
            $( document ).ready(function() {
               
                $('.calendar-cell').each(function() {
                  
                    var dayID = $(this).data().id;
                    var event = ReadJSON(dayID);
                     //console.log(dayID);
                    if (event != undefined) {
                        //console.log(event);
                        var eventDiv = $("<div></div>", { 'class': 'grupa-event', 'data-id': dayID, 'draggable':true,  }).append("<p>"+event.title+"</p>").append("<p>"+event.time+"</p>");
                        eventDiv.appendTo(this);
                    }
                    
                });

                $(".grupa-event").on("click", function(e){
                    var el = $(this).parent().data();
                    console.log(el.day);
                    openEdit(el);
                });
                
            });
        

        // for each

    </script>


</body>
</html>